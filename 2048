#include <iostream>
#include <sstream>
#include <string>

using namespace std;

/*int right(int pole[i][j]) {
	for (int i = 0; i < 4; i++) {
		for (int j = 0; j < 4; j++) {
			if (pole[i][j] == pole[i][j + 1]) { pole[i][j + 1] *= 2; pole[i][j] = '*'; }
			if (pole[i][j + 1] == '*') {
				if (pole[i][j + 2] == '*') {
					if (pole[i][j + 3] == '*') {
						pole[i][j + 3] = pole[i][j];
						pole[i][j] = '*';
					}
					else {
						pole[i][j + 2] = pole[i][j];
						pole[i][j] = '*';
					}
				}
				else {
					pole[i][j + 1] = pole[i][j];
					pole[i][j] = '*';
				}
			}
		}
	}
	return 0;
}
*/

bool readpole(int matrix[4][4])
{
	bool result = true;
	for (int i = 0; i<4; i++) {
		string string;
		getline(cin, string);
		istringstream stream(string);
		for (int j = 0; j < 4; ++j) {
			if (!(stream >> matrix[i][j])) {
				result = false;
				break;
			}
		}
	}
	return result;
}


int main()
{
	int pole[4][4];
	if (readpole(pole)) {
		for (int i = 0; i < 4; i++) {
			for (int j = 2; j > 0; j--) {
				if (pole[i][j] == pole[i][j + 1] && pole[i][j + 1] != 0) { pole[i][j + 1] = pole[i][j + 1] + pole[i][j]; pole[i][j] = 0; break; }
						if (pole[i][j + 1] == 0) {
							if (pole[i][j + 2] == 0) {
								if (pole[i][j + 3] == 0) {
									pole[i][j + 3] = pole[i][j];
									pole[i][j] = 0;
								}
								else {
									pole[i][j + 2] = pole[i][j];
									pole[i][j] = 0;
								}
							}
							else {
								pole[i][j + 1] = pole[i][j];
								pole[i][j] = 0;
							}
						}
				}
			}
		}
	for (int i = 0; i < 4; i++) {
		for (int j = 0; j < 4; j++) { cout << pole[i][j] << " "; }
		cout << endl;
	}
}
